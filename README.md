
# Game 이벤트 리워드 기능 구현

본 예제는 MSA/DDD/Event Storming/EDA 를 포괄하는 분석/설계/구현/운영 전단계를 커버하도록 구성한 예제입니다.
이는 클라우드 네이티브 애플리케이션의 개발에 요구되는 체크포인트들을 통과하기 위한 예시 답안을 포함합니다.
- 체크포인트 : https://workflowy.com/s/assessment-check-po/T5YrzcMewfo4J6LW

# 서비스 시나리오

Game 이벤트

기능적 요구사항
1. 고객이 미션을 달성한다
1. 미션이 달성되면 리워드가 발급이 된다
1. 리워드가 발급이 되면, 지갑에 리워드가 생성이 되고, 미션에 발급된 리워드 ID가 업데이트 된다
1. 고객이 지갑에 있는 리워드를 상품으로 교환한다
1. 리워드가 상품으로 교환이 되면 리워드의 상태가 업데이트 된다
1. 고객이 달성한 미션과 지갑의 상태를 중간중간 조회한다

비기능적 요구사항
1. 트랜잭션
    1. 상품으로 교환이 되지 않으면, 리워드의 상태는 그대로 유지가 된다. Sync 호출 
1. 장애격리
    1. 상품 교환 기능이 수행되지 않더라도 미션 달성 및 리워드 발급은 365일 24시간 진행 될 수 있어야 Async (event-driven), Eventual Consistency
    1. 상품시스템이 과중되면 사용자를 잠시동안 받지 않고 상품 교환을 잠시후에 하도록 유도한다  Circuit breaker, fallback
1. 성능
    1. 고객이 달성한 미션과 지갑의 리워드 상태를 마이페이지(프론트엔드)에서 확인할 수 있어야 한다  CQRS


# 분석/설계

## Event Storming 결과
* MSAEz 로 모델링한 이벤트스토밍 결과
![image](https://user-images.githubusercontent.com/68723566/93046088-ecb2fd00-f693-11ea-836f-bd166b106df1.png)

* 개인과제로 Notification 추가

